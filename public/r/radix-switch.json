{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "radix-switch",
  "type": "registry:ui",
  "title": "Radix Switch",
  "description": "Radix UI switch component",
  "dependencies": [
    "motion",
    "@radix-ui/react-switch"
  ],
  "files": [
    {
      "path": "registry/radix/radix-switch/index.tsx",
      "content": "'use client';\n\nimport * as React from 'react';\nimport * as SwitchPrimitives from '@radix-ui/react-switch';\nimport { motion, type HTMLMotionProps } from 'motion/react';\n\nimport { cn } from '@/lib/utils';\n\nconst baseContainerWidth = 40;\nconst baseContainerHeight = 24;\nconst baseMargin = 2.5;\nconst baseIconSize = baseContainerHeight / 2;\nconst baseIconOffset = baseIconSize / 3;\n\nconst MotionSwitch = motion.create(SwitchPrimitives.Root);\nconst MotionThumb = motion.create(SwitchPrimitives.Thumb);\n\ntype SwitchProps = React.ComponentPropsWithoutRef<\n  typeof SwitchPrimitives.Root\n> &\n  HTMLMotionProps<'button'> & {\n    leftIcon?: React.ElementType;\n    rightIcon?: React.ElementType;\n    thumbIcon?: React.ElementType;\n    width?: number;\n    height?: number;\n    margin?: number;\n  };\n\nconst Switch = React.forwardRef<\n  React.ComponentRef<typeof SwitchPrimitives.Root>,\n  SwitchProps\n>(\n  (\n    {\n      className,\n      leftIcon: LeftIcon,\n      rightIcon: RightIcon,\n      thumbIcon: ThumbIcon,\n      width = baseContainerWidth,\n      height = baseContainerHeight,\n      margin = baseMargin,\n      ...props\n    },\n    ref,\n  ) => {\n    const switchRef = React.useRef<HTMLButtonElement>(null);\n    React.useImperativeHandle(\n      ref,\n      () => switchRef.current as HTMLButtonElement,\n    );\n\n    const [isChecked, setIsChecked] = React.useState(false);\n\n    const marginSize = (baseMargin / baseContainerHeight) * height;\n    const thumbSize = height - 2 * marginSize;\n    const checkedTranslateX = width - thumbSize - marginSize;\n    const uncheckedTranslateX = marginSize;\n\n    const tappedWidth = thumbSize + 3 * (height / baseContainerHeight);\n    const tappedCheckedTranslateX = checkedTranslateX - marginSize;\n\n    const iconSize = (baseIconSize / baseContainerHeight) * height;\n    const iconOffset = (baseIconOffset / baseContainerHeight) * height;\n\n    React.useEffect(() => {\n      if (!switchRef.current) return;\n\n      if (props.checked !== undefined) {\n        setIsChecked(props.checked);\n      }\n\n      const observer = new MutationObserver((mutationsList) => {\n        mutationsList.forEach((mutation) => {\n          if (mutation.attributeName === 'data-state') {\n            const currentState = switchRef.current?.getAttribute('data-state');\n            setIsChecked(currentState === 'checked');\n          }\n        });\n      });\n\n      observer.observe(switchRef.current, {\n        attributes: true,\n        attributeFilter: ['data-state'],\n      });\n\n      const initialState = switchRef.current.getAttribute('data-state');\n      setIsChecked(initialState === 'checked');\n\n      return () => {\n        observer.disconnect();\n      };\n    }, [props.checked]);\n\n    const thumbVariants = React.useMemo(\n      () => ({\n        tap: {\n          width: tappedWidth + 'px',\n          translateX: isChecked\n            ? tappedCheckedTranslateX + 'px'\n            : uncheckedTranslateX + 'px',\n          transition: { duration: 0.1 },\n        },\n        checked: {\n          translateX: checkedTranslateX + 'px',\n          transition: { ease: 'circInOut' },\n        },\n        unchecked: {\n          translateX: uncheckedTranslateX + 'px',\n          transition: { ease: 'circInOut' },\n        },\n      }),\n      [\n        isChecked,\n        tappedWidth,\n        tappedCheckedTranslateX,\n        uncheckedTranslateX,\n        checkedTranslateX,\n      ],\n    );\n\n    return (\n      <MotionSwitch\n        ref={switchRef}\n        style={{ width: width + 'px', height: height + 'px' }}\n        className={cn(\n          'inline-flex items-center shrink-0 cursor-pointer bg-neutral-100 dark:bg-neutral-800 rounded-full relative data-[state=checked]:bg-neutral-950 dark:data-[state=checked]:bg-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        whileTap=\"tap\"\n        animate={isChecked ? 'checked' : 'unchecked'}\n        {...props}\n      >\n        {LeftIcon && (\n          <motion.div\n            animate={\n              isChecked ? { scale: 1, opacity: 1 } : { scale: 0, opacity: 0 }\n            }\n            transition={{ type: 'spring', bounce: 0 }}\n            className=\"absolute top-1/2 -translate-y-1/2 dark:text-neutral-500 text-neutral-400\"\n            style={{ left: iconOffset + 'px' }}\n          >\n            <LeftIcon\n              style={{ width: iconSize + 'px', height: iconSize + 'px' }}\n            />\n          </motion.div>\n        )}\n\n        {RightIcon && (\n          <motion.div\n            animate={\n              isChecked ? { scale: 0, opacity: 0 } : { scale: 1, opacity: 1 }\n            }\n            transition={{ type: 'spring', bounce: 0 }}\n            className=\"absolute top-1/2 -translate-y-1/2 dark:text-neutral-400 text-neutral-500\"\n            style={{ right: iconOffset + 'px' }}\n          >\n            <RightIcon\n              style={{ width: iconSize + 'px', height: iconSize + 'px' }}\n            />\n          </motion.div>\n        )}\n\n        <MotionThumb\n          initial={{ translateX: uncheckedTranslateX + 'px' }}\n          style={{\n            width: thumbSize + 'px',\n            height: thumbSize + 'px',\n          }}\n          className=\"bg-white dark:bg-neutral-950 text-neutral-500 dark:text-neutral-400 rounded-full shadow-sm flex items-center justify-center\"\n          variants={thumbVariants}\n        >\n          {ThumbIcon && (\n            <ThumbIcon\n              style={{ width: iconSize + 'px', height: iconSize + 'px' }}\n            />\n          )}\n        </MotionThumb>\n      </MotionSwitch>\n    );\n  },\n);\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch, type SwitchProps };\n",
      "type": "registry:ui",
      "target": "components/animate-ui/radix-switch.tsx"
    }
  ]
}